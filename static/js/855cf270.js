import{a7 as x,d as S,Q as I,a3 as _,u as $,v as M,y as w,o as q,c as z,a8 as P,a9 as R,aa as E,_ as F,e as V,g as N,h as U,l as j,a1 as B,f as D}from"./3aa768f7.js";const K=({appId:s,appKey:u,avatar:c,placeholder:d,visitor:e,lang:p,meta:o,requiredFields:r,avatarForce:i,path:n})=>{new Valine({el:"#vcomments",appId:s,appKey:u,avatar:c,placeholder:d,visitor:e,lang:p,meta:o??[],requiredFields:r??[],avatarForce:i,path:x(n)})},O=S({name:"ObComment",props:{title:{type:String,default:""},body:{type:String,default:""},uid:{type:String,default:""}},components:{MainTitle:I},setup(s){const u=_(s).title,c=_(s).body,d=_(s).uid,e=$(),p=M();let o;const r=(i,n,g)=>{const y=!i||i===""?"":i,k=!n||n===""?window.location.href:`${window.location.href} 
 ${n}`,A=e.themeConfig.plugins.gitalk.id==="pathname"?window.location.pathname:g;if(p.setCache({title:i,body:n,uid:g}),!!e.configReady){if(e.themeConfig.plugins.gitalk.enable){const a=e.themeConfig.plugins.gitalk.proxy===""?"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token":e.themeConfig.plugins.gitalk.proxy,{clientID:t,clientSecret:l,repo:m,owner:h,admin:f,language:C}=e.themeConfig.plugins.gitalk;P({clientID:t,clientSecret:l,repo:m,owner:h,admin:f,language:C,uid:A,title:y,body:k,proxy:a})}else if(e.themeConfig.plugins.valine.enable){const{app_id:a,app_key:t,avatar:l,placeholder:m,visitor:h,lang:f,meta:C,requiredFields:b,avatarForce:v}=e.themeConfig.plugins.valine;K({appId:a,appKey:t,avatar:l,placeholder:m,visitor:h,lang:f,meta:C,requiredFields:b,avatarForce:v,path:window.location.pathname})}else if(e.themeConfig.plugins.twikoo.enable){const{envId:a,region:t,lang:l}=e.themeConfig.plugins.twikoo;R({envId:a,region:t,lang:l,path:window.location.pathname})}else if(e.themeConfig.plugins.waline.enable){const{serverURL:a,login:t,reaction:l,meta:m,requiredMeta:h,commentSorting:f,wordLimit:C,imageUploader:b,pageSize:v}=e.themeConfig.plugins.waline;o=E({serverURL:a,lang:e.locale??"en",login:t,reaction:l,meta:m,requiredMeta:h,commentSorting:f,wordLimit:C,imageUploader:b,pageSize:v})}else if(e.themeConfig.plugins.giscus.enable){let a=document.getElementById("giscus");a&&document.head.removeChild(a);let t=document.createElement("script");t.async=!0,t.setAttribute("src","https://giscus.app/client.js"),t.setAttribute("id","giscus"),t.setAttribute("data-repo",e.themeConfig.plugins.giscus.repo),t.setAttribute("data-repo-id",e.themeConfig.plugins.giscus.repo_id),t.setAttribute("data-category",e.themeConfig.plugins.giscus.category),t.setAttribute("data-category-id",e.themeConfig.plugins.giscus.category_id),t.setAttribute("data-mapping",e.themeConfig.plugins.giscus.mapping),t.setAttribute("data-reactions-enabled",e.themeConfig.plugins.giscus.reactions_enabled),t.setAttribute("data-emit-metadata",e.themeConfig.plugins.giscus.emit_meta_data),t.setAttribute("data-input-position",e.themeConfig.plugins.giscus.input_position),e.theme==="theme-dark"?t.setAttribute("data-theme",e.themeConfig.plugins.giscus.theme_dark):t.setAttribute("data-theme",e.themeConfig.plugins.giscus.theme_light),t.setAttribute("data-lang",e.themeConfig.plugins.giscus.lang),t.setAttribute("crossorigin","anonymous"),document.head.appendChild(t)}}};return w(()=>e.configReady,(i,n)=>{if(!n&&i){const g=p.cachePost;r(g.title,g.body,g.uid)}}),w(()=>e.theme,()=>{!e.themeConfig.plugins.gitalk.enable&&!e.themeConfig.plugins.valine.enable&&!e.themeConfig.plugins.twikoo.enable&&!e.themeConfig.plugins.waline.enable&&e.themeConfig.plugins.giscus.enable&&r(u.value,c.value,d.value)}),w(()=>e.locale,(i,n)=>{o&&i!==void 0&&i!==n&&o.update({lang:i})}),q(()=>{r(u.value,c.value,d.value)}),{wrapperClasses:z(()=>({"bg-ob-deep-800 p-4 mt-8 lg:px-14 lg:py-10 rounded-2xl shadow-xl mb-8 lg:mb-0":!0,[`comment-${e.themeConfig.theme.profile_shape}`]:!0}))}}});const Q=B('<div id="gitalk-container"></div><div id="vcomments"></div><div id="tcomment"></div><div id="waline"></div><div class="giscus"></div>',5);function T(s,u,c,d,e,p){const o=V("MainTitle");return D(),N("div",{class:j(s.wrapperClasses)},[U(o,{title:"titles.comment",icon:"quote",paddings:"pb-2 pt-0","text-size":"text-2xl md:text-3xl"},null,8,["title"]),Q],2)}const H=F(O,[["render",T]]);export{H as C};
